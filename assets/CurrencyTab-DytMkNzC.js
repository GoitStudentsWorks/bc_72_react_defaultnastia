import{C as u,r as l,j as t}from"./index-C4b3UuWY.js";import{c as p}from"./clsx-B-dksMZM.js";const b=u.create({baseURL:"https://api.monobank.ua"}),i="currencyRates",d=()=>new Date().getTime(),g=e=>{const a=d(),r={rates:e,timestamp:a};localStorage.setItem(i,JSON.stringify(r))},f=()=>{const e=localStorage.getItem(i);if(e){const{rates:a,timestamp:r}=JSON.parse(e);if(d()-r<36e5)return a}return null},j=async()=>{const e=f();if(e)return e;try{const r=(await b.get("/bank/currency")).data.slice(0,2);return g(r),r}catch{return null}},y="_chart_p5eks_1",N="_noBottomPadding_p5eks_8",n={chart:y,noBottomPadding:N},B=()=>{const[e,a]=l.useState(null),[r,c]=l.useState(!0),[m,o]=l.useState(!1);l.useEffect(()=>{(async()=>{c(!0);try{const s=await j();s?a(s):o(!0)}catch{o(!0)}finally{c(!1)}})()},[]);const h=x=>{switch(x){case 840:return"USD";case 978:return"EUR";default:return"Unknown"}};return t.jsx("div",{className:"h-[100%]",children:r?t.jsx("p",{className:"flex items-center justify-center h-[214px] xl:h-[380px] w-[320px] md:w-[336px] xl:w-[480px]",children:"Loading..."}):m?t.jsx("p",{className:"flex items-center justify-center h-[214px] xl:h-[380px] w-[320px] md:w-[336px] xl:w-[480px]",children:"Error fetching currency rates"}):t.jsxs("div",{className:"flex flex-col h-[100%] md:w-[336px] xl:w-[480px] bg-[rgba(74,86,226,0.1)] rounded-br-[8px] rounded-bl-[8px] xl:rounded-none overflow-hidden mx-auto",children:[t.jsxs("table",{className:"text-[16px] w-full table-fixed max-[767px]:mb-auto md:mb-[20px] xl:mb-[36px]",children:[t.jsx("thead",{className:"text-[16px] bg-[rgba(255,255,255,0.20)] w-full",children:t.jsxs("tr",{children:[t.jsx("th",{className:"pt-[12px] md:pt-[13px] xl:pt-[16px] pb-[12px] md:pb-[13px] xl:pb-[16px] pl-[20px] xl:pl-[96px]",align:"left",children:"Currency"}),t.jsx("th",{className:"pt-[12px] md:pt-[13px] xl:pt-[16px] pb-[12px] md:pb-[13px] xl:pb-[16px]",align:"center",children:"Purchase"}),t.jsx("th",{className:"pt-[12px] md:pt-[13px] xl:pt-[16px] pb-[12px] md:pb-[13px] xl:pb-[16px] pr-[20px] xl:pr-[96px]",align:"right",children:"Sale"})]})}),t.jsxs("tbody",{children:[t.jsx("tr",{className:"h-[8px] xl:h-[24px] bg-transparent"}),e==null?void 0:e.map((x,s)=>t.jsxs("tr",{className:s===1?n.noPaddingBottom:"",children:[t.jsx("td",{className:p("pb-[12px] xl:pb-[24px] pl-[20px] xl:pl-[96px]",{[n.noBottomPadding]:s===1}),align:"left",children:h(x.currencyCodeA)}),t.jsx("td",{className:p("pb-[12px] xl:pb-[24px]",{[n.noBottomPadding]:s===1}),align:"center",children:x.rateBuy.toFixed(2)}),t.jsx("td",{className:p("pb-[12px] xl:pb-[24px] pr-[20px] xl:pr-[96px]",{[n.noBottomPadding]:s===1}),align:"right",children:x.rateSell.toFixed(2)})]},s))]})]}),t.jsx("div",{className:"h-[150px] xl:h-[192px]",children:t.jsxs("div",{className:p("relative",n.chart),children:[e&&e[0]&&t.jsx("p",{className:"hidden xl:block text-[#FF868D] text-[12px] absolute left-[47px] top-[12px]",children:e[0].rateBuy.toFixed(2)}),e&&e[1]&&t.jsx("p",{className:"hidden xl:block text-[#FF868D] text-[12px] absolute right-[96px] top-[-22px]",children:e[1].rateBuy.toFixed(2)})]})})]})})};export{B as default};
